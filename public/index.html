<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ðŸ“Š MarxBot Analytics â€” Live Stats</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Share+Tech+Mono&display=swap">
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/moment@2.29.1/moment.min.js"></script>
</head>
<body>
  <div class="terminal">
    <div class="terminal-header">
      <div class="terminal-buttons">
        <span class="terminal-button red"></span>
        <span class="terminal-button yellow"></span>
        <span class="terminal-button green"></span>
      </div>
      <div class="terminal-title">marxbot_analytics.exe</div>
      <div class="terminal-status" id="connectionStatus">Connecting...</div>
    </div>
    <div class="terminal-body">
      <h1 class="glitch" data-text="ðŸ“Š MARXBOT ANALYTICS">ðŸ“Š MARXBOT ANALYTICS</h1>
      
      <div class="dashboard-grid">
        <!-- Connection Stats -->
        <div class="stat-card">
          <div class="stat-label">TOTAL INSTANCES</div>
          <div class="stat-value"><span id="totalInstances">0</span></div>
          <div class="stat-trend" id="instanceTrend"></div>
        </div>
        
        <div class="stat-card">
          <div class="stat-label">ACTIVE INSTANCES</div>
          <div class="stat-value"><span id="activeInstances">0</span></div>
          <div class="stat-trend" id="activeTrend"></div>
        </div>
        
        <div class="stat-card">
          <div class="stat-label">TOTAL CONNECTIONS</div>
          <div class="stat-value"><span id="totalConnections">0</span></div>
          <div class="stat-trend" id="connectionTrend"></div>
        </div>
        
        <!-- User Stats -->
        <div class="stat-card">
          <div class="stat-label">TOTAL USERS</div>
          <div class="stat-value"><span id="totalUsers">0</span></div>
          <div class="stat-trend" id="userTrend"></div>
        </div>
        
        <div class="stat-card">
          <div class="stat-label">ACTIVE USERS</div>
          <div class="stat-value"><span id="activeUsers">0</span></div>
          <div class="stat-trend" id="activeUserTrend"></div>
        </div>
        
        <div class="stat-card">
          <div class="stat-label">TOTAL MESSAGES</div>
          <div class="stat-value"><span id="totalMessages">0</span></div>
          <div class="stat-trend" id="messageTrend"></div>
        </div>
        
        <!-- New Stats -->
        <div class="stat-card">
          <div class="stat-label">ERROR RATE</div>
          <div class="stat-value"><span id="errorRate">0</span>%</div>
          <div class="stat-trend" id="errorTrend"></div>
        </div>
        
        <div class="stat-card">
          <div class="stat-label">AVG UPTIME</div>
          <div class="stat-value"><span id="avgUptime">0</span></div>
          <div class="stat-trend" id="uptimeTrend"></div>
        </div>
        
        <!-- Charts -->
        <div class="chart-card wide">
          <div class="chart-title">INSTANCE ACTIVITY</div>
          <div id="activityChart" class="chart-container"></div>
        </div>
        
        <div class="chart-card">
          <div class="chart-title">INSTANCE STATUS</div>
          <div id="statusChart" class="chart-container"></div>
        </div>
        
        <div class="chart-card wide">
          <div class="chart-title">MESSAGE TYPES</div>
          <div id="messageTypeChart" class="chart-container"></div>
        </div>
        
        <div class="chart-card">
          <div class="chart-title">CONNECTION HEALTH</div>
          <div id="healthChart" class="chart-container"></div>
        </div>
        
        <div class="chart-card wide">
          <div class="chart-title">ERROR TRENDS</div>
          <div id="errorChart" class="chart-container"></div>
        </div>
        
        <!-- System Info -->
        <div class="info-card">
          <div class="info-title">SYSTEM STATUS</div>
          <div class="info-line">Last Update: <span id="lastUpdate">-</span></div>
          <div class="info-line">Uptime: <span id="uptime">-</span></div>
          <div class="info-line">API Status: <span id="apiStatus">Checking...</span></div>
          <div class="info-line">Data Version: <span id="dataVersion">-</span></div>
          <div class="info-line">Error Rate: <span id="errorRateValue">0</span>%</div>
          <div class="info-line">Active: <span id="activePercent">0</span>%</div>
        </div>
        
        <!-- Instance List -->
        <div class="table-card wide">
          <div class="chart-title">ACTIVE INSTANCES</div>
          <div class="table-container">
            <table id="instancesTable">
              <thead>
                <tr>
                  <th>Instance ID</th>
                  <th>User Agent</th>
                  <th>Last Active</th>
                  <th>Uptime</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
        
        <!-- Error Log -->
        <div class="table-card wide">
          <div class="chart-title">RECENT ERRORS</div>
          <div class="table-container">
            <table id="errorsTable">
              <thead>
                <tr>
                  <th>Instance</th>
                  <th>Error Type</th>
                  <th>Message</th>
                  <th>Time</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <script src="script.js"></script>
</body>
</html>